<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>第二代轻起始页</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { background-color: #1a1a1a; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; color: #fff; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; transition: all 0.5s ease; } body.search-mode { background-color: #fff9e6; } .nextgen-badge { position: fixed; right: 20px; top: 20px; background-color: #ff4444; color: white; padding: 8px 12px; border-radius: 4px; font-size: 14px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3); z-index: 100; } .greeting { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); font-size: 24px; font-weight: bold; color: #ffd700; opacity: 0; transition: opacity 0.5s ease, transform 0.5s ease; z-index: 90; } .greeting.show { opacity: 1; transform: translateX(-50%) translateY(0); } .logo { cursor: pointer; user-select: none; transition: transform 0.2s ease; z-index: 50; position: relative; display: inline-block; margin-top: 80px; } .logo:hover { transform: scale(1.05); } .logo span:first-child { color: #ffd700; font-weight: bold; font-size: 64px; transition: all 0.3s ease; } .logo span:last-child { color: #ffffff; font-weight: bold; font-size: 56px; transition: all 0.3s ease; } .logo.gradient span { background: linear-gradient(90deg, #ffd700, #ffcc00, #ffb800, #ffa500, #ff8c00); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-size: 300% 100%; animation: gradientShift 0.5s ease infinite; } @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } } .search-container { margin-top: 30px; width: 500px; max-width: 90%; opacity: 0; transform: translateY(-20px); transition: all 0.4s ease; z-index: 60; } .search-container.active { opacity: 1; transform: translateY(0); } .search-box { display: flex; background-color: rgba(255, 255, 255, 0.95); border-radius: 24px; padding: 8px 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); align-items: center; margin: 0 auto; } .search-engine-selector { position: relative; display: inline-block; cursor: pointer; margin-right: 8px; } .search-engine-display { display: flex; align-items: center; padding: 8px 16px; background-color: transparent; border: none; color: #333; font-size: 16px; cursor: pointer; outline: none; border-right: 1px solid #ddd; min-width: 100px; } .search-engine-display img { width: 24px; height: 24px; margin-right: 8px; border-radius: 4px; object-fit: contain; } .search-engine-dropdown { position: absolute; top: 100%; left: 0; background-color: #fff; border-radius: 8px; box-shadow: 0 8px 24px rgba(0,0,0,0.3); padding: 8px 0; min-width: 180px; display: none; z-index: 2000; border: 1px solid #ddd; } .search-engine-dropdown.active { display: block; } .search-engine-option { display: flex; align-items: center; padding: 12px 16px; cursor: pointer; transition: all 0.2s; } .search-engine-option:hover { background-color: #f5f5f5; transform: translateX(4px); } .search-engine-option img { width: 24px; height: 24px; margin-right: 12px; border-radius: 4px; object-fit: contain; } .search-input { flex: 1; background-color: transparent; border: none; color: #333; font-size: 18px; padding: 12px 16px; outline: none; } .search-input::placeholder { color: #999; } .digital-clock { margin-top: 30px; font-family: 'Courier New', monospace; font-size: 48px; font-weight: bold; color: #ffd700; letter-spacing: 2px; opacity: 1; transition: opacity 0.3s ease; z-index: 30; } .digital-clock.hidden { opacity: 0; } .bookmarks-container { margin-top: 40px; display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; max-width: 90%; opacity: 0; transform: translateY(20px); transition: all 0.4s ease; z-index: 35; } .bookmarks-container.active { opacity: 1; transform: translateY(0); } .bookmark-wrapper { position: relative; display: flex; flex-direction: column; align-items: center; } .bookmark { width: 100px; height: 100px; background-color: rgba(255, 255, 255, 0.9); border-radius: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px; cursor: pointer; transition: all 0.2s ease; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.15); } .bookmark:hover { transform: translateY(-4px); box-shadow: 0 6px 16px rgba(0,0,0,0.2); } .bookmark-icon { width: 48px; height: 48px; margin-bottom: 8px; border-radius: 8px; background-color: #e0e0e0; display: flex; align-items: center; justify-content: center; font-size: 24px; color: #666; overflow: hidden; background-size: cover; background-position: center; background-repeat: no-repeat; } .bookmark-name { text-align: center; font-size: 14px; font-weight: 500; color: #333; word-break: break-word; max-height: 36px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; } .bookmark-menu-btn { width: 28px; height: 28px; background-color: #4da6ff; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 14px; color: white; margin-top: 8px; transition: all 0.2s ease; } .bookmark-menu-btn:hover { background-color: #3a8ae6; transform: scale(1.1); } .bookmark-menu { position: absolute; bottom: -120px; left: 50%; transform: translateX(-50%); background-color: #fff; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,0.2); padding: 8px 0; min-width: 100px; display: none; z-index: 10000; border: 1px solid #ddd; white-space: nowrap; } .bookmark-menu.active { display: block; } .bookmark-menu-item { padding: 10px 16px; cursor: pointer; transition: background-color 0.2s; font-size: 14px; color: #333; } .bookmark-menu-item:hover { background-color: #f5f5f5; } .add-bookmark { width: 100px; height: 100px; background: linear-gradient(135deg, #f8f8f8 0%, #f0f0f0 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; border: 2px solid #ffd700; box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2); position: relative; overflow: hidden; } .add-bookmark::before { content: '+'; font-size: 64px; color: #ffd700; font-weight: bold; position: relative; z-index: 2; } .add-bookmark::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.3s ease; } .add-bookmark:hover::after { opacity: 1; } .add-bookmark:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4); border-color: #ffcc00; } .update-panel { position: fixed; bottom: 30px; right: 30px; background-color: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); max-width: 300px; z-index: 60; opacity: 1; transition: all 0.4s ease; } .update-panel.hidden { opacity: 0; pointer-events: none; } .update-title { font-size: 16px; font-weight: bold; color: #ff4444; margin-bottom: 12px; border-bottom: 2px solid #ffd700; padding-bottom: 8px; } .update-content { font-size: 14px; color: #333; line-height: 1.6; } .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); display: none; align-items: center; justify-content: center; z-index: 2000; } .modal-overlay.active { display: flex; } .modal { background: linear-gradient(135deg, #fff 0%, #f8f8f8 100%); border-radius: 16px; padding: 32px; width: 400px; max-width: 90%; box-shadow: 0 8px 32px rgba(0,0,0,0.2); border: 1px solid #ddd; } .modal-title { font-size: 20px; font-weight: bold; margin-bottom: 24px; color: #ff4444; text-align: center; } .modal-input-group { margin-bottom: 16px; } .modal-label { display: block; margin-bottom: 8px; font-size: 14px; color: #666; } .modal-input { width: 100%; padding: 12px 16px; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; color: #333; font-size: 16px; outline: none; transition: all 0.2s; } .modal-input:focus { border-color: #ffd700; box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.2); } .modal-buttons { display: flex; gap: 12px; margin-top: 24px; } .modal-btn { flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.2s; } .modal-btn-cancel { background-color: #f0f0f0; color: #333; } .modal-btn-cancel:hover { background-color: #e0e0e0; transform: translateY(-2px); } .modal-btn-confirm { background: linear-gradient(135deg, #ffd700 0%, #ffb800 100%); color: #000; } .modal-btn-confirm:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4); } .engine-btn { background: none; border: none; cursor: pointer; padding: 0; margin: 0; } </style> </head> <body> <div class="nextgen-badge">NA版本-第二代内测</div> <div class="greeting" id="greeting"></div> <div class="logo" id="quickerchLogo"> <span>Quick</span><span>erch</span> </div> <div id="dynamicContent"></div> <div class="digital-clock" id="digitalClock">00:00:00</div> <div class="update-panel" id="updatePanel"> <div class="update-title">更新日志</div> <div class="update-content">1.0.1[Alpha]---新增过渡动画和封面加载问题的修复</div> </div> <div class="modal-overlay" id="modalOverlay"> <div class="modal"> <div class="modal-title" id="modalTitle">添加书签</div> <div class="modal-input-group"> <label class="modal-label">名称</label> <input type="text" class="modal-input" id="bookmarkNameInput" placeholder="输入书签名称"> </div> <div class="modal-input-group"> <label class="modal-label">URL</label> <input type="text" class="modal-input" id="bookmarkUrlInput" placeholder="输入网址，例如：https://www.baidu.com"> </div> <div class="modal-buttons"> <button class="modal-btn modal-btn-cancel" id="modalCancelBtn">取消</button> <button class="modal-btn modal-btn-confirm" id="modalConfirmBtn">确定</button> </div> </div> </div> <script> const logo = document.getElementById('quickerchLogo'); const dynamicContent = document.getElementById('dynamicContent'); const digitalClock = document.getElementById('digitalClock'); const greetingEl = document.getElementById('greeting'); const modalOverlay = document.getElementById('modalOverlay'); const modalTitle = document.getElementById('modalTitle'); const bookmarkNameInput = document.getElementById('bookmarkNameInput'); const bookmarkUrlInput = document.getElementById('bookmarkUrlInput'); const modalCancelBtn = document.getElementById('modalCancelBtn'); const modalConfirmBtn = document.getElementById('modalConfirmBtn'); const updatePanel = document.getElementById('updatePanel'); let isSearchMode = false; let clockInterval = null; let greetingTimeout = null; let currentEditBookmark = null; function initSearchEngine() { const savedEngine = localStorage.getItem('quickerch_search_engine'); if (savedEngine) { try { const engineData = JSON.parse(savedEngine); return engineData; } catch (e) { console.error('Failed to parse saved engine:', e); } } return { value: 'https://www.baidu.com/s?wd=', name: '百度', icon: 'https://www.baidu.com/favicon.ico' }; } function createSearchContainer() { const container = document.createElement('div'); container.className = 'search-container'; container.id = 'searchContainer'; container.innerHTML = ` <div class="search-box"> <div class="search-engine-selector" id="engineSelector"> <button class="search-engine-display engine-btn" id="engineDisplay"> <img src="${initSearchEngine().icon}" alt="${initSearchEngine().name}" id="engineIcon"> <span id="engineName">${initSearchEngine().name}</span> </button> <div class="search-engine-dropdown" id="engineDropdown"> <div class="search-engine-option" data-value="https://www.baidu.com/s?wd=" data-name="百度" data-icon="https://www.baidu.com/favicon.ico"> <img src="https://www.baidu.com/favicon.ico" alt="百度"> <span>百度</span> </div> <div class="search-engine-option" data-value="https://www.sogou.com/web?query=" data-name="搜狗" data-icon="https://www.sogou.com/favicon.ico"> <img src="https://www.sogou.com/favicon.ico" alt="搜狗"> <span>搜狗</span> </div> <div class="search-engine-option" data-value="https://www.so.com/s?ie=utf-8&fr=none&src=360sou_newhome&q=" data-name="360搜索" data-icon="https://www.so.com/favicon.ico"> <img src="https://www.so.com/favicon.ico" alt="360搜索"> <span>360搜索</span> </div> <div class="search-engine-option" data-value="https://www.taobao.com/search?q=" data-name="淘宝" data-icon="https://www.taobao.com/favicon.ico"> <img src="https://www.taobao.com/favicon.ico" alt="淘宝"> <span>淘宝</span> </div> <div class="search-engine-option" data-value="https://cn.bing.com/search?q=" data-name="必应" data-icon="https://cn.bing.com/favicon.ico"> <img src="https://cn.bing.com/favicon.ico" alt="必应"> <span>必应</span> </div> </div> </div> <input type="text" class="search-input" id="searchInput" placeholder="输入搜索内容..." autocomplete="off"> </div> `; return container; } function createBookmarksContainer() { const container = document.createElement('div'); container.className = 'bookmarks-container'; container.id = 'bookmarksContainer'; return container; } function renderBookmarks(bookmarks) { const bookmarksContainer = document.getElementById('bookmarksContainer'); if (!bookmarksContainer) return; bookmarksContainer.innerHTML = ''; bookmarks.forEach((bookmark, index) => { const wrapper = document.createElement('div'); wrapper.className = 'bookmark-wrapper'; wrapper.dataset.index = index; const bookmarkEl = document.createElement('div'); bookmarkEl.className = 'bookmark'; bookmarkEl.dataset.index = index; const iconContainer = document.createElement('div'); iconContainer.className = 'bookmark-icon'; try { const url = new URL(bookmark.url); const domain = url.hostname; const faviconUrl = `https://www.google.com/s2/favicons?domain=${domain}&sz=64`; iconContainer.style.backgroundImage = `url('${faviconUrl}')`; } catch (e) { iconContainer.textContent = bookmark.name.charAt(0).toUpperCase(); iconContainer.style.backgroundColor = '#d0d0d0'; iconContainer.style.color = '#666'; } const nameEl = document.createElement('div'); nameEl.className = 'bookmark-name'; nameEl.textContent = bookmark.name; const menuBtn = document.createElement('button'); menuBtn.className = 'bookmark-menu-btn'; menuBtn.innerHTML = '⋮'; menuBtn.dataset.index = index; const menuEl = document.createElement('div'); menuEl.className = 'bookmark-menu'; menuEl.dataset.index = index; const editBtn = document.createElement('div'); editBtn.className = 'bookmark-menu-item'; editBtn.textContent = '编辑'; editBtn.dataset.action = 'edit'; editBtn.dataset.index = index; const removeBtn = document.createElement('div'); removeBtn.className = 'bookmark-menu-item'; removeBtn.textContent = '移除'; removeBtn.dataset.action = 'remove'; removeBtn.dataset.index = index; menuEl.appendChild(editBtn); menuEl.appendChild(removeBtn); bookmarkEl.appendChild(iconContainer); bookmarkEl.appendChild(nameEl); wrapper.appendChild(bookmarkEl); wrapper.appendChild(menuBtn); wrapper.appendChild(menuEl); bookmarkEl.addEventListener('click', (e) => { if (!e.target.closest('.bookmark-menu-btn') && !e.target.closest('.bookmark-menu-item')) { window.open(bookmark.url, '_blank'); } }); menuBtn.addEventListener('click', (e) => { e.stopPropagation(); document.querySelectorAll('.bookmark-menu').forEach(m => m.classList.remove('active')); menuEl.classList.add('active'); }); editBtn.addEventListener('click', (e) => { e.stopPropagation(); openEditModal(index); menuEl.classList.remove('active'); }); removeBtn.addEventListener('click', (e) => { e.stopPropagation(); removeBookmark(index); menuEl.classList.remove('active'); }); bookmarksContainer.appendChild(wrapper); }); const addBookmarkEl = document.createElement('div'); addBookmarkEl.className = 'add-bookmark'; addBookmarkEl.addEventListener('click', () => { openAddModal(); }); bookmarksContainer.appendChild(addBookmarkEl); } function loadBookmarks() { const bookmarks = JSON.parse(localStorage.getItem('quickerch_bookmarks') || '[]'); renderBookmarks(bookmarks); } function activateGradientEffect() { logo.classList.add('gradient'); setTimeout(() => { logo.classList.remove('gradient'); }, 1000); } function toggleSearchMode() { if (!isSearchMode) { activateGradientEffect(); const searchContainer = createSearchContainer(); const bookmarksContainer = createBookmarksContainer(); dynamicContent.appendChild(searchContainer); dynamicContent.appendChild(bookmarksContainer); setTimeout(() => { searchContainer.classList.add('active'); bookmarksContainer.classList.add('active'); }, 10); document.body.classList.add('search-mode'); updatePanel.classList.add('hidden'); digitalClock.classList.add('hidden'); greetingEl.classList.remove('show'); if (clockInterval) { clearInterval(clockInterval); clockInterval = null; } if (greetingTimeout) { clearTimeout(greetingTimeout); greetingTimeout = null; } setTimeout(() => { const searchInput = document.getElementById('searchInput'); if (searchInput) searchInput.focus(); }, 400); loadBookmarks(); setupSearchEvents(); isSearchMode = true; } else { document.body.classList.remove('search-mode'); updatePanel.classList.remove('hidden'); digitalClock.classList.remove('hidden'); dynamicContent.innerHTML = ''; startClock(); updateGreeting(); isSearchMode = false; } } function setupSearchEvents() { const engineDisplay = document.getElementById('engineDisplay'); const engineDropdown = document.getElementById('engineDropdown'); const engineIcon = document.getElementById('engineIcon'); const engineName = document.getElementById('engineName'); const engineOptions = document.querySelectorAll('.search-engine-option'); const searchInput = document.getElementById('searchInput'); engineDisplay.addEventListener('click', (e) => { e.stopPropagation(); engineDropdown.classList.toggle('active'); }); engineOptions.forEach(option => { option.addEventListener('click', (e) => { e.stopPropagation(); const value = option.getAttribute('data-value'); const name = option.getAttribute('data-name'); const icon = option.getAttribute('data-icon'); engineIcon.src = icon; engineName.textContent = name; engineDisplay.setAttribute('data-value', value); engineDisplay.setAttribute('data-name', name); engineDisplay.setAttribute('data-icon', icon); localStorage.setItem('quickerch_search_engine', JSON.stringify({ value: value, name: name, icon: icon })); engineDropdown.classList.remove('active'); }); }); document.addEventListener('click', () => { engineDropdown.classList.remove('active'); }); searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') { const query = searchInput.value.trim(); if (query) { const engineValue = engineDisplay.getAttribute('data-value'); window.open(engineValue + encodeURIComponent(query), '_blank'); searchInput.value = ''; } } }); } let clickStartTime = 0; let clickStartPos = { x: 0, y: 0 }; logo.addEventListener('mousedown', (e) => { clickStartTime = Date.now(); clickStartPos = { x: e.clientX, y: e.clientY }; }); logo.addEventListener('mouseup', (e) => { const clickDuration = Date.now() - clickStartTime; const clickEndPos = { x: e.clientX, y: e.clientY }; const distance = Math.sqrt( Math.pow(clickEndPos.x - clickStartPos.x, 2) + Math.pow(clickEndPos.y - clickStartPos.y, 2) ); if (clickDuration < 300 && distance < 10) { toggleSearchMode(); } }); function getBeijingTime() { const now = new Date(); const utc = now.getTime() + (now.getTimezoneOffset() * 60000); const beijingTime = new Date(utc + (3600000 * 8)); return beijingTime; } function updateClock() { const now = getBeijingTime(); const hours = String(now.getHours()).padStart(2, '0'); const minutes = String(now.getMinutes()).padStart(2, '0'); const seconds = String(now.getSeconds()).padStart(2, '0'); digitalClock.textContent = `${hours}:${minutes}:${seconds}`; } function getGreeting() { const hour = getBeijingTime().getHours(); if (hour >= 5 && hour < 12) return '早上好'; if (hour >= 12 && hour < 18) return '中午好'; return '晚上好'; } function updateGreeting() { const greeting = getGreeting(); greetingEl.textContent = greeting; greetingEl.classList.remove('show'); setTimeout(() => { greetingEl.classList.add('show'); }, 10); if (greetingTimeout) { clearTimeout(greetingTimeout); } greetingTimeout = setTimeout(() => { greetingEl.classList.remove('show'); }, 5000); } function startClock() { updateClock(); clockInterval = setInterval(updateClock, 1000); } function openAddModal() { modalTitle.textContent = '添加书签'; bookmarkNameInput.value = ''; bookmarkUrlInput.value = ''; currentEditBookmark = null; modalOverlay.classList.add('active'); } function openEditModal(index) { const bookmarks = JSON.parse(localStorage.getItem('quickerch_bookmarks') || '[]'); const bookmark = bookmarks[index]; modalTitle.textContent = '编辑书签'; bookmarkNameInput.value = bookmark.name; bookmarkUrlInput.value = bookmark.url; currentEditBookmark = index; modalOverlay.classList.add('active'); } function closeModal() { modalOverlay.classList.remove('active'); currentEditBookmark = null; } modalCancelBtn.addEventListener('click', closeModal); modalConfirmBtn.addEventListener('click', () => { const name = bookmarkNameInput.value.trim(); let url = bookmarkUrlInput.value.trim(); if (!name || !url) { alert('请填写名称和URL'); return; } if (!url.startsWith('http://') && !url.startsWith('https://')) { url = 'https://' + url; } try { new URL(url); } catch (e) { alert('请输入有效的URL'); return; } let bookmarks = JSON.parse(localStorage.getItem('quickerch_bookmarks') || '[]'); if (currentEditBookmark !== null) { bookmarks[currentEditBookmark] = { name, url }; } else { bookmarks.push({ name, url }); } localStorage.setItem('quickerch_bookmarks', JSON.stringify(bookmarks)); renderBookmarks(bookmarks); closeModal(); }); modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) { closeModal(); } }); document.addEventListener('click', (e) => { if (!e.target.closest('.bookmark-menu-btn') && !e.target.closest('.bookmark-menu')) { document.querySelectorAll('.bookmark-menu').forEach(m => m.classList.remove('active')); } }); function removeBookmark(index) { if (confirm('确定要删除这个书签吗？')) { let bookmarks = JSON.parse(localStorage.getItem('quickerch_bookmarks') || '[]'); bookmarks.splice(index, 1); localStorage.setItem('quickerch_bookmarks', JSON.stringify(bookmarks)); renderBookmarks(bookmarks); } } startClock(); updateGreeting(); </script> </body> </html>
